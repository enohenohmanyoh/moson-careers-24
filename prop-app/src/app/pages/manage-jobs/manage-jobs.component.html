<div class="mt-60"></div>

<main class="job-list-page">
  <div class="container">
    <div class="page-header">
      <p>Manage Jobs</p>
    </div>
    <div class="add-actions">
      <button class="btn-add-job" (click)="saveJob(null)">
        <span class="icon">+</span> Add
      </button>
    </div>

    <div class="job-list-container">
      <aside class="filters">
        <div class="filter-section">
          <h3>Search</h3>
          <input type="text" placeholder="Job title or company"
                 [(ngModel)]="searchTerm" (input)="filterJobs()">
        </div>

        <div class="filter-section">
          <h3>Location</h3>
          <select [(ngModel)]="locationFilter" (change)="filterJobsByLocation()">
            <option value="">All Locations</option>
            <option value="Cape Town">Cape Town</option>
            <option value="Johannesburg">Johannesburg</option>
            <option value="Durban">Durban</option>
            <option value="Pretoria">Pretoria</option>
            <option value="Remote">Remote</option>
          </select>
        </div>

        <div class="filter-section">
          <h3>Job Type</h3>
          <select [(ngModel)]="jobTypeFilter" (change)="filterJobsByJobType()">
            <option value="">All Types</option>
            <option value="FULL_TIME">Full-time</option>
            <option value="PART_TIME">Part-time</option>
            <option value="CONTRACT">Contract</option>
            <option value="HYBRID">Hybrid</option>
            <option value="ON_SITE">On-Site</option>
            <option value="INTERNSHIP">Internship</option>
            <option value="TEMPORARY">Temporary</option>
            <option value="FREELANCE">Freelance</option>
            <option value="CONSULTANT">Consultant</option>
            <option value="REMOTE">Remote</option>
            <option value="INTERNSHIP">Internship</option>
            <option value="VOLUNTEER">Volunteer</option>
          </select>
        </div>
      </aside>

      <div class="job-results">
        <div class="results-count">
          Showing {{ jobsList.length }} jobs
        </div>


        <div class="jobs">
          <div class="job-card" *ngFor="let job of jobsList">
            <div class="job-info">
              <h2><a [routerLink]="['/jobs', job.reference]">{{ job.title }}</a></h2>
              <p class="company">{{ job.company }}</p>
              <div class="job-meta">
                <span class="location">{{ job.location }}</span>
                <span class="type" *ngFor="let type of job.jobTypes" class="type-badge">
                   {{ this.formatJobType(type) }},
                  </span>
                <span class="salary">{{ job.salary }}</span>
                <span class="posted">{{ job.createdAt | date:'mediumDate' }}</span>
                <span class="type-badge" >{{ this.jobStatus(job.status) }}</span>
              </div>
              <p class="description">{{ job.description }}</p>
            </div>
            <div class="job-actions">
              <button class="btn-action edit" (click)="closeJob(job.reference)">
                <span class="icon">üîç</span>
                <span class="label">Edit</span>
              </button>
              <button [disabled]="this.jobStatus(job.status) == 'CLOSED'" class="btn-action close" (click)="closeJob(job.reference)">
                <span class="icon">‚úñ</span>
                <span class="label">Close</span>
              </button>
            </div>
          </div>
        </div>

        <div class="pagination">
          <button class="btn btn-outline">Previous</button>
          <span>Page 1 of 10</span>
          <button class="btn btn-outline">Next</button>
        </div>
      </div>
    </div>
  </div>
</main>
